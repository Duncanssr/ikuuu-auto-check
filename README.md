# ikuuu 自动签到工具：重构说明与使用教程

## 工具介绍

本项目是一个用于 `ikuuu.org` 网站的多账号自动签到工具，通过 GitHub Actions 实现定时自动签到，无需本地部署，省心省力。重构后的版本在安全性、稳定性和可维护性上均有提升，支持多账号同时签到并提供清晰的执行日志。

## 重构亮点

1. **安全性增强**：账号密码通过 GitHub Secrets 存储，避免明文暴露在代码中
2. **鲁棒性提升**：增加异常处理机制，解决登录/签到失败时的崩溃问题
3. **灵活性优化**：支持通过环境变量动态配置账号，无需修改代码即可添加/删除账号
4. **操作规范**：添加请求间隔，避免因频繁请求被目标网站限制
5. **日志清晰**：完善的执行状态提示，便于排查问题

## 详细使用教程

### 第一步：Fork 代码仓库

1. 访问项目仓库页面
2. 点击右上角 `Fork` 按钮，将仓库复制到你的 GitHub 账号下

### 第二步：配置账号信息

1. 进入你 Fork 后的仓库，点击顶部 `Settings`
2. 在左侧菜单找到 `Secrets and variables` → `Actions`
3. 点击 `New repository secret`
4. - **Name** 填写：`ACCOUNTS`
   - **Secret** 填写账号密码，格式为：`邮箱1,密码1;邮箱2,密码2`（多个账号用分号分隔）
5. 点击 `Add secret` 保存

### 第三步：启用 GitHub Actions

1. 进入仓库的 `Actions` 标签页
2. 点击 `I understand my workflows, go ahead and enable them` 启用工作流

### 第四步：测试签到功能

1. 进入 `Actions` → `ikuuu自动签到` 工作流
2. 点击右侧 `Run workflow` → `Run workflow` 手动触发一次签到
3. 点击本次运行记录，查看 `checkin` 步骤的日志，确认签到是否成功

### 第五步：确认定时任务

默认配置为每天 **UTC 时间 0 点**（北京时间 8 点）自动执行签到，无需额外操作。如需修改时间，可编辑 `.github/workflows/auto-checkin.yml` 中的 cron 表达式：

```yaml
# 示例：改为北京时间 12 点执行（UTC 时间 4 点）
- cron: '0 4 * * *'
```

## 常见问题排查

1. **签到失败提示"登录失败"**：
   - 检查账号密码是否正确
   - 确认 `Secrets` 中的格式是否符合要求（邮箱和密码用逗号分隔，账号间用分号）

2. **工作流未执行**：
   - 检查 Actions 是否已启用
   - 确认仓库是否有近期提交（新 Fork 的仓库可能需要至少一次提交才能触发定时任务）

3. **请求异常**：
   - 可能是目标网站更新了接口，需同步更新代码中的 `BASE_URL` 等配置

通过以上步骤，你即可实现 ikuuu 账号的全自动签到，无需每日手动操作～
